{"version":3,"sources":["app.js","checkForVictory.js","gameFinish.js"],"names":["board","document","getElementById","scoreFirstPlayer","getElementsByTagName","scoreSecondPlayer","currentScoreFirstPlayer","Number","textContent","currentScoreSecondPlayer","currentText","valueAllSquares","X","win","onclick","event","currentSquareID","target","id","length","classList","add","innerText","checkForVictory","gameEnd","startGameButton","location","reload","startPlayAgainButton","style","display","i","children","remove","addScore","winner","String","x","gameState","lines","a","b","c","ChangeText","includes","str"],"mappings":"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","file":"script.js","sourcesContent":["import { checkForVictory } from './checkForVictory.js'\r\nimport { gameEnd } from './gameFinish.js'\r\n\r\nconst board = document.getElementById('board');\r\n\r\nconst scoreFirstPlayer = document.getElementsByTagName(\"p\")['0'];\r\nconst scoreSecondPlayer = document.getElementsByTagName(\"p\")['2'];\r\n\r\nlet currentScoreFirstPlayer = Number(scoreFirstPlayer.textContent);\r\nlet currentScoreSecondPlayer = Number(scoreSecondPlayer.textContent);\r\n\r\nconst currentText = document.getElementsByTagName(\"span\")[0];\r\n\r\nlet valueAllSquares = [1, 1, 1, 1, 1, 1, 1, 1, 1];  // state game\r\nlet X = true;\r\nlet win = false;\r\n\r\nboard.onclick = (event) => {\r\n  let currentSquareID = event.target.id;\r\n  if (win === false) {\r\n    if (X === true) {\r\n      if (valueAllSquares[currentSquareID[currentSquareID.length - 1] - 1] === 1) {\r\n        event.target.classList.add(\"kr\");\r\n        valueAllSquares[currentSquareID[currentSquareID.length - 1] - 1] = \"x\";\r\n        currentText.innerText = \"Ходит: О\";\r\n        X = false;\r\n        win = checkForVictory(\"x\", valueAllSquares);\r\n      };\r\n    }\r\n    else {\r\n      if (valueAllSquares[currentSquareID[currentSquareID.length - 1] - 1] === 1) {\r\n        event.target.classList.add(\"n\");\r\n        valueAllSquares[currentSquareID[currentSquareID.length - 1] - 1] = \"o\";\r\n        currentText.innerText = \"Ходит: X\";\r\n        X = true;\r\n        win = checkForVictory(\"o\", valueAllSquares);\r\n      };\r\n    };\r\n\r\n    gameEnd(valueAllSquares, X, win, currentText);\r\n    return;\r\n  };\r\n};\r\n\r\nstartGameButton.onclick = () => {\r\n  location.reload();\r\n};\r\n\r\nstartPlayAgainButton.onclick = () => {\r\n  currentText.style.display = \"block\";\r\n  currentText.innerText = \"Ходит: X\";\r\n  valueAllSquares = [1, 1, 1, 1, 1, 1, 1, 1, 1];\r\n  win = false;\r\n  X = true;\r\n  for (let i = 0; i < board.children.length; i++) {\r\n    board.children[i].classList.remove('kr');\r\n    board.children[i].classList.remove('n');\r\n  }\r\n};\r\n\r\nexport const addScore = (winner) => {\r\n  if (winner === \"x\") {\r\n    currentScoreFirstPlayer += 1;\r\n    scoreFirstPlayer.innerText = String(currentScoreFirstPlayer);\r\n  }\r\n  else {\r\n    currentScoreSecondPlayer += 1;\r\n    scoreSecondPlayer.innerText = String(currentScoreSecondPlayer);\r\n  };\r\n};\r\n","import { addScore } from './app.js'\r\n\r\nexport const checkForVictory = (x, gameState) => {\r\n    const lines = [\r\n    [0, 1, 2],\r\n    [3, 4, 5],\r\n    [6, 7, 8],\r\n    [0, 3, 6],\r\n    [1, 4, 7],\r\n    [2, 5, 8],\r\n    [0, 4, 8],\r\n    [2, 4, 6],\r\n  ];\r\n  for (let i = 0; i < lines.length; i++) {\r\n    const [a, b, c] = lines[i];\r\n    if ((gameState[a] != 1) && (gameState[a] === gameState[b]) && (gameState[a] === gameState[c])) {\r\n      addScore(x);\r\n      return true;\r\n    };\r\n  };\r\n  return false;\r\n};\r\n","export const gameEnd = (gameState, X, win, currentText) => {\r\n  if (win === true) {\r\n    if (X === true) {\r\n      ChangeText(\"Победил О\", currentText);\r\n    }\r\n    else {\r\n      ChangeText(\"Победил X\", currentText);\r\n    };\r\n  };\r\n\r\n  if ((gameState.includes(1) === false) && (win === false)) {\r\n    ChangeText(\"Ничья\", currentText);\r\n  };\r\n};\r\n\r\nconst ChangeText = (str, currentText) => {\r\n  currentText.innerText = str;\r\n};\r\n"]}