{"version":3,"sources":["index.js","tictactoe.js"],"names":["board","document","getElementById","scoreFirstPlayerElement","querySelector","scoreSecondPlayerElement","currentConditionText","gameState","isX","isWin","onclick","event","gameRun","console","log","startGameButton","location","reload","startPlayAgainButton","style","display","innerText","i","children","length","classList","remove","currentSquareID","target","id","add","checkForVictory","gameEnd","addScore","winner","scoreFirstPlayer","Number","textContent","scoreSecondPlayer","String","ChangeText","includes","str","x","lines","a","b","c"],"mappings":"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","file":"script.js","sourcesContent":["const board = document.getElementById('board');\r\n\r\nconst scoreFirstPlayerElement = document.querySelector('#scoreFirstPlayerElement p');\r\nconst scoreSecondPlayerElement = document.querySelector('#scoreSecondPlayerElement p');\r\n\r\nconst currentConditionText = document.querySelector('#currentCondition');\r\n\r\nlet gameState = [1, 1, 1, 1, 1, 1, 1, 1, 1];\r\nlet isX = true;\r\nlet isWin = false;\r\n\r\nboard.onclick = (event) => {\r\n  isX = gameRun(event, gameState, isX, isWin, currentConditionText, scoreFirstPlayerElement, scoreSecondPlayerElement);\r\n  console.log(gameState);\r\n};\r\n\r\nstartGameButton.onclick = () => {\r\n  location.reload();\r\n};\r\n\r\nstartPlayAgainButton.onclick = () => {\r\n  currentConditionText.style.display = \"block\";\r\n  currentConditionText.innerText = \"Ходит: X\";\r\n  gameState = [1, 1, 1, 1, 1, 1, 1, 1, 1];\r\n  isWin = false;\r\n  isX = true;\r\n  for (let i = 0; i < board.children.length; i++) {\r\n    board.children[i].classList.remove('cross');\r\n    board.children[i].classList.remove('zero');\r\n  }\r\n};\r\n","const gameRun = (event, gameState, isX, isWin, currentConditionText, scoreFirstPlayerElement, scoreSecondPlayerElement) => {\r\n  let currentSquareID = event.target.id;\r\n  if (isWin === true) return;\r\n  if (gameState[currentSquareID[0]] !== 1) return;\r\n  if (isX === true) {\r\n    event.target.classList.add(\"cross\");\r\n    gameState[currentSquareID[0]] = \"x\";\r\n    currentConditionText.innerText = \"Ходит: О\";\r\n    isX = false;\r\n    isWin = checkForVictory(\"x\", gameState, scoreFirstPlayerElement, scoreSecondPlayerElement);\r\n    gameEnd(gameState, isX, isWin, currentConditionText);\r\n    return(isX);\r\n  }\r\n  else {\r\n    event.target.classList.add(\"zero\");\r\n    gameState[currentSquareID[0]] = \"o\";\r\n    currentConditionText.innerText = \"Ходит: X\";\r\n    isX = true;\r\n    isWin = checkForVictory(\"o\", gameState, scoreFirstPlayerElement, scoreSecondPlayerElement);\r\n    gameEnd(gameState, isX, isWin, currentConditionText);\r\n    return(isX);\r\n  }; \r\n}\r\n\r\nconst addScore = (winner, scoreFirstPlayerElement, scoreSecondPlayerElement) => {\r\n  let scoreFirstPlayer = Number(scoreFirstPlayerElement.textContent);\r\n  let scoreSecondPlayer = Number(scoreSecondPlayerElement.textContent);\r\n  if (winner === \"x\") {\r\n    scoreFirstPlayer += 1;\r\n    scoreFirstPlayerElement.innerText = String(scoreFirstPlayer);\r\n  }\r\n  else {\r\n    scoreSecondPlayer += 1;\r\n    scoreSecondPlayerElement.innerText = String(scoreSecondPlayer);\r\n  };\r\n};\r\n\r\nconst gameEnd = (gameState, isX, isWin, currentConditionText) => {\r\n  if (isWin === true) {\r\n    if (isX === true) {\r\n      ChangeText(\"Победил О\", currentConditionText);\r\n    }\r\n    else {\r\n      ChangeText(\"Победил X\", currentConditionText);\r\n    };\r\n  };\r\n\r\n  if ((gameState.includes(1) === false) && (isWin === false)) {\r\n    ChangeText(\"Ничья\", currentConditionText);\r\n  };\r\n};\r\n\r\nconst ChangeText = (str, currentConditionText) => {\r\n  currentConditionText.innerText = str;\r\n};\r\n\r\nconst checkForVictory = (x, gameState, scoreFirstPlayerElement, scoreSecondPlayerElement) => {\r\n  const lines = [\r\n  [0, 1, 2],\r\n  [3, 4, 5],\r\n  [6, 7, 8],\r\n  [0, 3, 6],\r\n  [1, 4, 7],\r\n  [2, 5, 8],\r\n  [0, 4, 8],\r\n  [2, 4, 6],\r\n];\r\nfor (let i = 0; i < lines.length; i++) {\r\n  const [a, b, c] = lines[i];\r\n  if ((gameState[a] != 1) && (gameState[a] === gameState[b]) && (gameState[a] === gameState[c])) {\r\n    addScore(x, scoreFirstPlayerElement, scoreSecondPlayerElement,);\r\n    return true;\r\n  };\r\n};\r\nreturn false;\r\n};\r\n"]}