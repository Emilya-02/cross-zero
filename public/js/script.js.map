{"version":3,"sources":["app.js","checkForVictory.js","gameFinish.js"],"names":["board","document","getElementById","scoreFirstPlayer","getElementsByTagName","scoreSecondPlayer","currentScoreFirstPlayer","Number","textContent","currentScoreSecondPlayer","currentText","gameState","X","win","onclick","event","currentSquareID","target","id","length","classList","add","innerText","checkForVictory","gameEnd","startGameButton","location","reload","startPlayAgainButton","style","display","i","children","remove","addScore","winner","String","x","lines","a","b","c","ChangeText","includes","str"],"mappings":"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","file":"script.js","sourcesContent":["import { checkForVictory } from './checkForVictory.js'\r\nimport { gameEnd } from './gameFinish.js'\r\n\r\nconst board = document.getElementById('board');\r\n\r\nconst scoreFirstPlayer = document.getElementsByTagName(\"p\")['0'];\r\nconst scoreSecondPlayer = document.getElementsByTagName(\"p\")['2'];\r\n\r\nlet currentScoreFirstPlayer = Number(scoreFirstPlayer.textContent);\r\nlet currentScoreSecondPlayer = Number(scoreSecondPlayer.textContent);\r\n\r\nconst currentText = document.getElementsByTagName(\"span\")[0];\r\n\r\nlet gameState = [1, 1, 1, 1, 1, 1, 1, 1, 1];\r\nlet X = true;\r\nlet win = false;\r\n\r\nboard.onclick = (event) => {\r\n  let currentSquareID = event.target.id;\r\n  if (win === false) {\r\n    if (X === true) {\r\n      if (gameState[currentSquareID[currentSquareID.length - 1] - 1] === 1) {\r\n        event.target.classList.add(\"kr\");\r\n        gameState[currentSquareID[currentSquareID.length - 1] - 1] = \"x\";\r\n        currentText.innerText = \"Ходит: О\";\r\n        X = false;\r\n        win = checkForVictory(\"x\", gameState);\r\n      };\r\n    }\r\n    else {\r\n      if (gameState[currentSquareID[currentSquareID.length - 1] - 1] === 1) {\r\n        event.target.classList.add(\"n\");\r\n        gameState[currentSquareID[currentSquareID.length - 1] - 1] = \"o\";\r\n        currentText.innerText = \"Ходит: X\";\r\n        X = true;\r\n        win = checkForVictory(\"o\", gameState);\r\n      };\r\n    };\r\n\r\n    gameEnd(gameState, X, win, currentText);\r\n    return;\r\n  };\r\n};\r\n\r\nstartGameButton.onclick = () => {\r\n  location.reload();\r\n};\r\n\r\nstartPlayAgainButton.onclick = () => {\r\n  currentText.style.display = \"block\";\r\n  currentText.innerText = \"Ходит: X\";\r\n  gameState = [1, 1, 1, 1, 1, 1, 1, 1, 1];\r\n  win = false;\r\n  X = true;\r\n  for (let i = 0; i < board.children.length; i++) {\r\n    board.children[i].classList.remove('kr');\r\n    board.children[i].classList.remove('n');\r\n  }\r\n};\r\n\r\nexport const addScore = (winner) => {\r\n  if (winner === \"x\") {\r\n    currentScoreFirstPlayer += 1;\r\n    scoreFirstPlayer.innerText = String(currentScoreFirstPlayer);\r\n  }\r\n  else {\r\n    currentScoreSecondPlayer += 1;\r\n    scoreSecondPlayer.innerText = String(currentScoreSecondPlayer);\r\n  };\r\n};\r\n","import { addScore } from './app.js'\r\n\r\nexport const checkForVictory = (x, gameState) => {\r\n    const lines = [\r\n    [0, 1, 2],\r\n    [3, 4, 5],\r\n    [6, 7, 8],\r\n    [0, 3, 6],\r\n    [1, 4, 7],\r\n    [2, 5, 8],\r\n    [0, 4, 8],\r\n    [2, 4, 6],\r\n  ];\r\n  for (let i = 0; i < lines.length; i++) {\r\n    const [a, b, c] = lines[i];\r\n    if ((gameState[a] != 1) && (gameState[a] === gameState[b]) && (gameState[a] === gameState[c])) {\r\n      addScore(x);\r\n      return true;\r\n    };\r\n  };\r\n  return false;\r\n};\r\n","export const gameEnd = (gameState, X, win, currentText) => {\r\n  if (win === true) {\r\n    if (X === true) {\r\n      ChangeText(\"Победил О\", currentText);\r\n    }\r\n    else {\r\n      ChangeText(\"Победил X\", currentText);\r\n    };\r\n  };\r\n\r\n  if ((gameState.includes(1) === false) && (win === false)) {\r\n    ChangeText(\"Ничья\", currentText);\r\n  };\r\n};\r\n\r\nconst ChangeText = (str, currentText) => {\r\n  currentText.innerText = str;\r\n};\r\n"]}